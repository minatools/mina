.Dd 15 September, 2020
.Dt coda-client 1
.Os
.Sh NAME
.Nm coda-client
.Nd lightweight client commands
.Sh SYNOPSIS
.Nm coda client
.Ar subcommand Op Fl arguments
|
.Fl help
.Sh DESCRIPTION
.Nm
subcommands support issuance of a new custom currency; creation of accounts for the currency; minting of new tokens of the currency; ...
.Pp
.Sh SUBCOMMANDS
.Bl -tag -width -indent
.It Xo Ar get-balance Fl public-key Cm PUBKEY
.Op Fl token Cm TOKENID
.Op Fl rest-server Cm ADDR
.Op Fl help
.Xc
Get balance associated with a public key.
.Bl -tag -width -indent
.It Fl public-key Cm PUBKEY
Public key of the account for which you want to check the balance.
(Ed: must this match the private key of the user running the command?)
.It Op Fl token Cm TOKENID
The token ID for the account.  (ID of the currency?)
.It Op Fl rest-server Cm ADDR
Address (port or URI) of Graphql rest server for daemon interaction.
Examples: 3085, http://localhost:3085/graphql,
/dns4/peer1-rising-phoenix.o1test.net:3085/graphql. Default:
http://localhost:3085/graphql
.It Op Fl help
Print this help text and exit. Alias: -?
.El
.It Xo Ar get-tokens Fl public-key Cm PUBKEY
.Op Fl help
.Xc
Get all token IDs that a public key has accounts for
.It Xo Ar send-payment Fl public-key Cm PUBKEY
.Op Fl help
.Xc
Send payment to an address
.It Xo Ar delegate-stake Fl public-key Cm PUBKEY
.Op Fl help
.Xc
Delegate your stake to another public key

.It Xo Ar create-token Fl public-key Cm PUBKEY
.Op Fl help
.Xc
Create a new token

.It Xo Ar create-token-account Fl public-key Cm PUBKEY
.Op Fl help
.Xc
Create a new account for a token

.It Xo Ar mint-tokens Fl public-key Cm PUBKEY
.Op Fl help
.Xc
Mint more of a token owned by the command's sender

.It Xo Ar cancel-transaction Fl public-key Cm PUBKEY
.Op Fl help
.Xc
Cancel a transaction -- this submits a replacement transaction with a fee larger than the cancelled transaction.

.It Xo Ar set-staking Fl public-key Cm PUBKEY
.Op Fl help
.Xc
Start producing blocks

.It Xo Ar set-snark-worker Fl public-key Cm PUBKEY
.Op Fl help
.Xc
Set key you wish to snark work with or disable snark working

.It Xo Ar set-snark-work-fee Fl public-key Cm PUBKEY
.Op Fl help
.Xc
Set fee reward for doing transaction snark work

.It Xo Ar stop-daemon Fl public-key Cm PUBKEY
.Op Fl help
.Xc
Stop the daemon

.It Xo Ar status Fl public-key Cm PUBKEY
.Op Fl help
.Xc
Get running daemon status

.It Xo Ar Fl help
.Op Fl help
.Xc
Explain a given subcommand (perhaps recursively). Alias: ->
.El

.Sh IMPLEMENTATION NOTES
Implementation-specific notes should be kept here. This is useful when
implementing standard functions that may have side effects or notable
algorithmic implications.
.Sh ENVIRONMENT
The following environment variables affect the execution of the
.Nm
command:
.Bl -tag -width "/etc/ssl/openssl.cnf"
.It Ev CODA_PRIVKEY_PASS
Private key password.  See also
.Fl block-producer-password
.It CODA_CONFIG_FILE
Coda configuration file path. See also
.Fl config-file
.It OMP_NUM_THREADS
Number of threads to use for snark workers (Open MP).  See also
.Fl snark-worker-parallelism
.El
.Sh FILES
.Bl -tag -width "/foo/bar/width.cnf" -compact
.It Pa <config_dir>/daemon.json
.Pp
Configuration file.
.El
.Sh EXIT STATUS
Documents error messages. These are usually messages printed by
userland programs to the standard error output.
.Sh EXAMPLES
.Sh DIAGNOSTICS
.Sh SEE ALSO
.Xr codactl 1 ,
.Xr coda-accounts 1 ,
.Xr coda-client 1 ,
.Xr coda-config 5 ,
.Xr codad 8 ,
.Sh STANDARDS
References any standards implemented or used. If not adhering to any
standards, the HISTORY section should be used instead.
.Sh HISTORY
A brief history of the subject, including where it was first
implemented, and when it was ported to or reimplemented for the
operating system at hand.
.Sh AUTHORS
.Sh CAVEATS
Common misuses and misunderstandings should be explained in this section.
.Sh BUGS
.Sh SECURITY CONSIDERATIONS
Avoid passing private keys on the command line, as they may be tracked
by command line history. Use the
.Ev CODA_PRIVKEY_PASS
environment variable instead.
.Pp
Running with
.Fl insecure-rest-server
is INSECURE! Only do this if your firewall is correctly configured.
